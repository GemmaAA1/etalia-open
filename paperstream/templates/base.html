<!DOCTYPE html>

{% load staticfiles %}

<html lang="en-US">
    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">

        <link rel="icon" type="image/png" href="{% static 'img/favicon.png' %}">

        <title>{% block title %}{% endblock %}</title>

        <!-- Bootstrap Core CSS -->
        <link href="{% static 'bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
        <!--<link href="css/bootstrap.min.css" rel="stylesheet">-->

        <!-- Custom CSS -->
        {% block css %}
            <link rel="stylesheet" type="text/css" href="{% static 'css/base.css' %}">
            <link rel="stylesheet" href="{% static 'css/7-three-bounce.css' %}" type="text/css" >
            <link href="{% static '/static/css/nav_bar.css' %}" rel="stylesheet">
        {% endblock css %}


        <!-- Custom Fonts -->
        <link href="{% static 'font-awesome/css/font-awesome.min.css' %}" rel="stylesheet" type="text/css">
        <link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,900,300italic,400italic,700italic" rel="stylesheet" type="text/css">

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9] -->
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        {% block head %}
        {% endblock head %}

    </head>

    <body>

    <!-- Navigation -->
    {% block navbar %}
        {% include "nav_bar.html" %}
    {% endblock navbar %}


    <!-- passing message -->
    {% if messages %}
        <ul class="messages">
            {% for message in messages %}
                <li id="message_{{ forloop.counter }}" {% if message.tags %}
                        class="{{ message.tags }}" {% endif %}>
                    {{ message }}
                </li>
            {% endfor %}
        </ul>
    {% endif %}


    <!-- body -->
    {% block content %}
    {% endblock content %}

    <!-- modals -->
    {% block modal %}
        {% if user.is_authenticated %}
            {% include "user/profile_modal.html" %}
            {% include "feeds/create_new_modal.html" %}
        {% else %}
            {% include "user/login_modal.html" %}
        {% endif %}
    {% endblock modal %}


    <!-- Footer -->
    {% block footer %}
        {% include "footer.html" %}
    {% endblock footer %}
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    {#    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>#}
    {#    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>#}
    <!-- TODO: to be replaced with CDN -->

    {% block js %}
        <script src="{% static 'js/jquery.min.js' %}"></script>
        <script src="{% static 'bootstrap/js/bootstrap.min.js' %}"></script>
        <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
        <script src="http://getbootstrap.com/assets/js/ie10-viewport-bug-workaround.js"></script>
        <script type="text/javascript" src="{% static 'js/base.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/nav_bar.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/csrf.js' %}"></script>

        <!-- Disqus counter comment count -->
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES * * */
            var disqus_shortname = 'paperstream';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var s = document.createElement('script'); s.async = true;
                s.type = 'text/javascript';
                s.src = '//' + disqus_shortname + '.disqus.com/count.js';
                (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
            }());
        </script>

        <!-- begin olark code -->
        {% if user.is_authenticated %}
            <script data-cfasync="false" type='text/javascript'>/*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
            f[z]=function(){
            (a.s=a.s||[]).push(arguments)};var a=f[z]._={
            },q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
            f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
            0:+new Date};a.P=function(u){
            a.p[u]=new Date-a.p[0]};function s(){
            a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
            hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
            return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
            b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
            b.contentWindow[g].open()}catch(w){
            c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
            var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
            b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
            loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
            /* custom configuration goes here (www.olark.com/documentation) */
            olark.identify('2588-774-10-6255');
            olark('api.visitor.updateEmailAddress', {
                emailAddress: "{{ user.email }}"
            });
            olark('api.visitor.updateFullName', {
                fullName: "{{ user.first_name }} {{ user.last_name }}"
            });
            </script>

{#            // twitter#}
{#            <script>window.twttr = (function(d, s, id) {#}
{#              var js, fjs = d.getElementsByTagName(s)[0],#}
{#                t = window.twttr || {};#}
{#              if (d.getElementById(id)) return t;#}
{#              js = d.createElement(s);#}
{#              js.id = id;#}
{#              js.src = "https://platform.twitter.com/widgets.js";#}
{#              fjs.parentNode.insertBefore(js, fjs);#}
{##}
{#              t._e = [];#}
{#              t.ready = function(f) {#}
{#                t._e.push(f);#}
{#              };#}
{##}
{#              return t;#}
{#            }(document, "script", "twitter-wjs"));#}
{#            </script>#}
{#            // Google +#}
        <script src="https://apis.google.com/js/platform.js" async defer></script>
        {% endif %}
    {% endblock js %}
    </body>
</html>

