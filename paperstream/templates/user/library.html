{% extends 'base.html' %}

{% load staticfiles %}

{% block css %}
    {{ block.super }}
    <link href="{% static 'css/library.css' %}" rel="stylesheet">
{% endblock css %}

{% block title %}
    User Library
{% endblock title %}


{% block content %}
    {% if user.lib.status == 'ING' %}
        {% include "users/sync_lib_modal.html" %}
    {% else %}
        <div class="container">
            <div class="library">
                <div class="row">
                    <div class="col-lg-1"></div>
                    <div class="col-lg-10">
                        <div class="userlib">
                            <div class="title">Library</div>
                            <table id="papers_table_id" class="table table-hover">
                                <tr class="header-column">
                                    <td>Authors</td>
                                    <td>Title</td>
                                    <td>Date</td>
                                </tr>
                                {% for paper in paper_list %}
                                    <tr id="paper{{ forloop.counter }}" onclick="document.location = '{% url 'library:paper' paper.pk %}'">
                                        <td >{{ paper.print_compact_first_author }}</td>
                                        <td id="paper_title">{{ paper.short_title }}</td>
                                        <td>{{ paper.print_date }}</td>
                                    </tr>
                                {% endfor %}
                            </table>

                           <!-- Pagination bar -->
                            {% if is_paginated %}
                                <ul class="pager">
                                    {% if page_obj.has_previous %}
                                        <li><a href="?page={{ page_obj.previous_page_number }}">Previous</a></li>
                                    {% endif %}
                                    <span class="page-current">
                                  Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
                                  </span>
                                    {% if page_obj.has_next %}
                                        <li><a href="?page={{ page_obj.next_page_number }}">Next</a></li>
                                    {% endif %}
                                </ul>
                            {% endif %}
                        </div>
                    </div>
                    <div class="col-lg-1"></div>
                </div>
            </div>
        </div>
    {% endif %}
{% endblock content %}