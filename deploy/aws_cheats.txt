# -- RABBITMQ --

(from http://kronosapiens.github.io/blog/2015/04/28/rabbitmq-aws.html)

# create new user and set permissions
# NB must match related env variable
sudo rabbitmqctl add_user <username> <password>
sudo rabbitmqctl set_permissions -p / <username> ".*" ".*" ".*"

# check user is listed
sudo rabbitmqctl list_users

# Open port in security group, default is 5672

# -- HOSTNAME --
hostname <hostname>   (ex: jobs.local)
# and update /etc/hosts to, for ex:
127.0.0.1 jobs jobs.local localhost localhost.local
# and /etc/hostname
jobs.local


# -- NGINX --
sudo service nginx reload

# -- MONITORING CELERY --
celery flower -A config --basic_auth=user1:password1
# Then visit http://<dns_public_instance>:5555


# -- MONITORING RABBITMQ --
#Finding the number of tasks in a queue:
rabbitmqctl list_queues name messages messages_ready messages_unacknowledged
rabbitmqctl list_queues name consumers
rabbitmqctl list_queues name memory